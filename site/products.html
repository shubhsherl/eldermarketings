---
title: Elder Pharmaceuticals - Products
permalink: /products/
seo:
  page_description: Our product catalog
  canonical_url: 
  featured_image: 
  author_twitter_handle: 
  open_graph_type:
  noindex: false
content_blocks:
  - _bookshop_name: feature/hero
    title: Our Products
    description: Explore our collection of high-quality products designed to meet your needs.
    
  - _bookshop_name: about/team
    title: Products
    team_members: []
---

<script>
// Function to dynamically populate products from JSON data
document.addEventListener('DOMContentLoaded', function() {
  // Reference to the container where products will be displayed
  const productsContainer = document.querySelector('.team .row:last-child');
  
  // Load product data from JSON
  loadProductData(function(data) {
    console.log('Products loaded:', data.products.length, 'products found');
    // Clear any existing content (the empty array in front matter ensures no static products)
    productsContainer.innerHTML = '';
    
    // Loop through all products in the JSON data
    data.products.forEach(function(product) {
      // Create a column for each product
      const productCol = document.createElement('div');
      productCol.className = 'col-lg-4 col-md-6 product-item';
      
      // Set appropriate data category attributes for filtering
      if (product.category) {
        const categorySlug = product.category.toLowerCase().replace(/\s+/g, '-');
        productCol.setAttribute('data-categories', categorySlug);
      }
      
      // Create the product HTML
      productCol.innerHTML = `
        <div class="related-product">
          <a href="/product/?name=${product.slug}">
            <div class="related-product-image">
              <img src="${product.image}" alt="${product.name}" onerror="this.src='/images/products/placeholder.png'" />
            </div>
            <div class="related-product-details">
              <h4>${product.name}</h4>
              <p class="related-product-description">${getShortDescription(product.description)}</p>
              <p class="related-product-price">â‚¹${product.price || 'Contact for pricing'}</p>
            </div>
          </a>
        </div>
      `;
      
      // Add the product to the container
      productsContainer.appendChild(productCol);
      
      // Handle image dimensions after the product is added to the DOM
      const img = productCol.querySelector('.related-product-image img');
      img.onload = function() {
        // Add contain-fit class if image aspect ratio doesn't match container
        const container = this.closest('.related-product-image');
        const containerAspect = container.offsetWidth / container.offsetHeight;
        const imgAspect = this.naturalWidth / this.naturalHeight;
        
        // If aspect ratios are significantly different or image has unusual dimensions, 
        // use contain mode with padding
        if (Math.abs(containerAspect - imgAspect) > 0.3 || 
            this.naturalWidth < 100 || 
            this.naturalHeight < 100 || 
            this.naturalWidth > 800) {
          this.classList.add('contain-fit');
        }
      };
      
      // Handle image loading error
      img.onerror = function() {
        this.classList.add('contain-fit');
      };
    });
    
    // Initialize filter functionality
    initializeFilters(data.categories);
  });
});

// Function to initialize filter buttons based on available categories
function initializeFilters(categories) {
  const filterContainer = document.querySelector('.product-filter-buttons');
  
  // Clear existing filter buttons and add the "All" button
  filterContainer.innerHTML = '<button class="filter-btn active" data-filter="all">All</button>';
  
  // Add buttons for each category in the JSON data
  categories.forEach(function(category) {
    const categorySlug = category.toLowerCase().replace(/\s+/g, '-');
    const button = document.createElement('button');
    button.className = 'filter-btn';
    button.setAttribute('data-filter', categorySlug);
    button.textContent = category;
    filterContainer.appendChild(button);
  });
  
  // Re-attach event listeners to the new buttons
  document.querySelectorAll('.filter-btn').forEach(button => {
    button.addEventListener('click', function() {
      const filterValue = this.getAttribute('data-filter');
      
      // Update active button
      document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
      this.classList.add('active');
      
      // Show all products if "All" is selected
      if (filterValue === 'all') {
        document.querySelectorAll('.product-item').forEach(item => item.classList.remove('hidden'));
        // Update URL without reloading page
        history.pushState({}, '', '/products/');
        return;
      }
      
      // Filter products
      document.querySelectorAll('.product-item').forEach(item => {
        const categories = item.getAttribute('data-categories') || '';
        // Perform exact category match instead of partial match
        if (categories === filterValue) {
          item.classList.remove('hidden');
        } else {
          item.classList.add('hidden');
        }
      });
      
      // Update URL without reloading page
      history.pushState({}, '', '/products/?category=' + filterValue);
    });
  });
  
  // Check if there's a category parameter in the URL
  const urlParams = new URLSearchParams(window.location.search);
  const categoryParam = urlParams.get('category');
  
  if (categoryParam) {
    // Find and click the matching filter button
    const matchingButton = document.querySelector(`.filter-btn[data-filter="${categoryParam}"]`);
    if (matchingButton) {
      matchingButton.click();
    }
  }
}
</script>
